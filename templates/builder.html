<%inherit file="base_onecolumn.html"/>

<%block name="page_title">Firemark - location builder</%block>

<%block name="main_content">
    <div id="LocationSearch">
        <form>
            <input type="text" name="LocationSearch" value="" id="LocationSearchInput" />
            <input type="submit" value="Search" style="display:none;" />
        </form>
    </div>
    <div id="LocationList">
        <table>
            <thead>
                <tr><th colspan="4">Locations</th></tr>
                <tr>
                    <td>Name</td><td>Tags</td>
                    <td>ObjectId</td><td>Actions</td>
                </tr>
            </thead>
            <tbody>
            </tbody>
            <tfoot>
                <tr><td colspan="4">
                    <a href="#" class="button" id="AddLocation">Add location</a>
                </td></tr>
            </tfoot>
        </table>
    </div>
    <div id="LocationEditor" style="display:none;">
        <h2 id="LocationEditorAction">Edit location</h2>
        <div id="LocationEditorTabs">
            <div class="tab" id="LocationEditorTabData">Location data</div>
            <div class="tab" id="LocationEditorTabExits">Exits</div>
            <div class="tab" id="LocationEditorTabBricks">Bricks</div>
            <div class="clear"></div>
        </div>
        <form action="#" method="POST" id="LocationEditorForm">
        <table class="tab" id="LocationEditorData">
            <tbody>
                <tr><th><label for="EditLocationName">Name</label></th>
                    <td><input type="text" name="name" id="EditLocationName"/></td></tr>
                <tr><th><label for="EditLocationTags">Tags</label></th>
                    <td><input type="text" name="tags" id="EditLocationTags"/></td></tr>
            </tbody>
        </table>
        <table class="tab" id="LocationEditorExits" style="display:none;">
            <thead>
                <tr><td>Id</td><td>Name</td>
                    <td>Destination location</td></tr>
            </thead>
            <tbody>
            </tbody>
            <tfoot>
                <tr><td colspan="3">
                    <a href="#" class="button">Add exit</a>
                </td></tr>
            </tfoot>
        </table>
        <table class="tab" id="LocationEditorBricks" style="display:none;">
            <thead>
                <tr><td>Order</td><td>Brick</td><td>Actions</td></tr>
            </thead>
            <tbody>
            </tbody>
            <tfoot>
                <tr><td colspan="3">
                    <a href="#" class="button">Add brick</a>
                </td></tr>
            </tfoot>
        </table>
        <input type="submit" id="LocationEditorSubmit" class="button" value="Save location"/>
        </form>
    </div>
</%block>
<%block name="javascript">
    <script type="text/javascript">
        function switchTab(selector) {
            $('#LocationEditorTabs .tab').removeClass('active');
            $('#LocationEditorTab'+selector).addClass('active');
            $('#LocationEditor table.tab').hide();
            $('table#LocationEditor'+selector).show();
        }
        $(document).ready(function() {
            $('a#AddLocation').click(function(eventObject) {
                eventObject.preventDefault();
                $('#LocationEditor h2#LocationEditorAction').html('Add location');
                $('#LocationEditor').show();
            });
            $('#LocationEditorTabData').click(function() {
                switchTab('Data');
            });
            $('#LocationEditorTabExits').click(function() {
                switchTab('Exits');
            });
            $('#LocationEditorTabBricks').click(function() {
                switchTab('Bricks');
            });
            $('form#LocationEditorForm').submit(function(eventObject) {
                eventObject.preventDefault();
                console.log($('input#EditLocationName').val());
                return false;
            });
        });
    </script>
</%block>
